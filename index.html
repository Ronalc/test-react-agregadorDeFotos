<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <script src="http://fb.me/react-0.13.3.js"></script>
    <script src="http://fb.me/JSXTransformer-0.13.3.js"></script>
    <link
    href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
    crossorigin="anonymous">
  </head>
  <body>
    <div class="" id="container">
      <div class="col-md-3"></div>
      <div class="col-md-6" id="Tareas"></div>
      <div class="col-md-12" id="imganes"></div>
    </div>
    <script type="text/jsx">
      var ListaTareas = React.createClass({
        CrearElementosDeLista: function(itemText) {
          return <div className="col-md-1">
                  <img src={itemText} alt="test" onClick={this.props.EstadoBorrar.bind(this)}/>
                </div>;
        },
        render: function() {
          return <div id="sortable" className="row">
                    {this.props.ElementosLista.map(this.CrearElementosDeLista)}
                </div>;
        }
      });
      var AplicacionTareas = React.createClass({
        getInitialState: function() {
          return {
            ElementosLista: ["https://d2e1tcbrruuso7.cloudfront.net/static/images/web-dev-icon.a6e158d1aa09.png"], text: ''
          };
        },
        EstadoBorrar: function(ElementoAborrar) {
          var LosElementosLista = this.state.ElementosLista;
          var indice = LosElementosLista.indexOf(ElementoAborrar);
          LosElementosLista.splice(indice, 1);
          this.setState({ElementosLista: LosElementosLista});
        },
        EstadoCambio: function(e) {
          this.setState({text: e.target.value});
        },
        EstadoSubmit: function(e) {
          e.preventDefault();
          if (this.state.text != '') {
            var nextElementosLista = this.state.ElementosLista.concat([this.state.text]);
            var nextText = '';
            this.setState({ElementosLista: nextElementosLista, text: nextText});
          }
        },
        render: function() {
          return (
            <div>
              <h3>Lista de imagenes</h3>
              <form onSubmit={this.EstadoSubmit} >
                <input className="form-control"
                  placeholder="Agregar a la lista"
                  onChange={this.EstadoCambio} value={this.state.text}/>
                <br/>
                <button className="btn btn-success btn-block " >
                  {'Agregar a lista'}
                </button>
                <br/>
                <label>
                  {(this.state.ElementosLista.length) + ' Elementos agregados'}
                </label>
              </form>
              <hr/>
              <ListaTareas ElementosLista={this.state.ElementosLista}
                  EstadoBorrar={this.EstadoBorrar} />
            </div>
          );
        }
      });
      React.render(<AplicacionTareas />, document.getElementById('Tareas'));
    </script>
  </body>
</html>
